{
  "scenario": "IT User Department Access Example",
  "steps": [
    {
      "step": 1,
      "action": "Login as IT user",
      "endpoint": "POST /api/auth/login",
      "payload": {
        "email": "it.admin@company.com",
        "password": "ITAdmin123!"
      },
      "expected": "Receive JWT token with IT role"
    },
    {
      "step": 2,
      "action": "View all departments",
      "endpoint": "GET /api/department",
      "headers": {
        "Authorization": "Bearer {jwt_token}"
      },
      "expected": "List of all departments"
    },
    {
      "step": 3,
      "action": "Create new department",
      "endpoint": "POST /api/department",
      "headers": {
        "Authorization": "Bearer {jwt_token}",
        "Content-Type": "application/json"
      },
      "payload": {
        "name": "DevOps",
        "nameBangla": "‡WfAvc&m"
      },
      "expected": "Department created successfully"
    },
    {
      "step": 4,
      "action": "Update department",
      "endpoint": "PUT /api/department/1",
      "headers": {
        "Authorization": "Bearer {jwt_token}",
        "Content-Type": "application/json"
      },
      "payload": {
        "name": "Information Technology",
        "nameBangla": "Z_¨cÖhyw³wZ",
        "isActive": true
      },
      "expected": "Department updated successfully"
    },
    {
      "step": 5,
      "action": "View department statistics",
      "endpoint": "GET /api/department/statistics",
      "headers": {
        "Authorization": "Bearer {jwt_token}"
      },
      "expected": "Department analytics and user distribution"
    },
    {
      "step": 6,
      "action": "Delete department",
      "endpoint": "DELETE /api/department/2",
      "headers": {
        "Authorization": "Bearer {jwt_token}"
      },
      "expected": "Department deleted successfully",
      "note": "Only works if department has no assigned users"
    }
  ],
  "notes": [
    "IT users now have complete CRUD access including delete operations",
    "All operations require valid JWT token with IT role",
    "Audit trails are maintained for all operations",
    "Delete operations check for department usage before allowing deletion",
    "Departments with assigned users cannot be deleted (safety validation)"
  ]
}
